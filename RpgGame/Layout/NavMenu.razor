@using RpgGame.Services
<header>
    <div>
        <AuthorizeView>
            <Authorized>
                <div class="logged-in-nav">
                    <div>Hello, @(CurrentPlayer.Info?.Name ?? "friend")!</div>
                    <button type="button" @onclick="DoLogOut">Logout</button>
                    <ul>
                        <li><a href="/my-house">House</a></li>
                        <li><a href="/garden">Garden</a></li>
                    </ul>
                </div>
            </Authorized>
            <NotAuthorized>
                Hello, stranger!
                <a class="button" href="/log-in">Login</a>
                <a class="button" href="/sign-up">Sign up</a>
            </NotAuthorized>
        </AuthorizeView>
    </div>
</header>

@code {

    [Inject] public CurrentPlayer CurrentPlayer { get; set; } = null!;
    [Inject] public RememberMe RememberMe { get; set; } = null!;

    private async Task DoLogOut()
    {
        await RememberMe.Forget();
        await CurrentPlayer.LogOutAsync();
    }

}